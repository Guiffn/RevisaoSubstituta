{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/5480/OneDrive/Desktop/api_avaliacao/front/src/app/Services/api.tsx"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"http://localhost:5003/api\",\r\n});\r\n\r\n//Para toda a requisição com Axios\r\n//seré enviado o token JWT\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\napi.interceptors.response.use(\r\n  (resposta) => resposta,\r\n  (erro) => {\r\n    if (erro.response.status === 401) {\r\n      localStorage.removeItem(\"token\");\r\n      window.location.replace(\"/usuario/login\");\r\n    }\r\n    return Promise.reject(erro);\r\n  }\r\n);\r\n\r\nexport default api;"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;AAEA,kCAAkC;AAClC,0BAA0B;AAC1B,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT;AAEA,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,CAAC;IACC,IAAI,KAAK,QAAQ,CAAC,MAAM,KAAK,KAAK;QAChC,aAAa,UAAU,CAAC;QACxB,OAAO,QAAQ,CAAC,OAAO,CAAC;IAC1B;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa","debugId":null}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/5480/OneDrive/Desktop/api_avaliacao/front/src/app/item/detalhes/%5BitemId%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\n\r\nimport api from \"@/app/Services/api\";\r\nimport { Comentario } from \"@/app/Types/comentario\";\r\nimport { Item } from \"@/app/Types/item\";\r\nimport {\r\n  Button,\r\n  Container,\r\n  Link,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  TextField,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { useParams } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nfunction ItemDetalhes() {\r\n  const params = useParams();\r\n  const { itemId } = params;\r\n  const [item, setItem] = useState<Item>();\r\n  const [comentarios, setComentarios] = useState<Comentario[]>([]);\r\n  const [texto, setTexto] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    carregarItem();\r\n    // carregarComentarios;\r\n  }, []);\r\n  async function carregarItem() {\r\n    try {\r\n      const resposta = await api.get<Item>(\r\n        `/item/buscaritemporid/${itemId}`\r\n      );\r\n      setItem(resposta.data);\r\n      try {\r\n        const resposta = await api.get(\r\n          `/comentario/listarComentarioPorItem/${itemId}`\r\n        );\r\n        console.table(resposta.data);\r\n        console.log(\"oi\");\r\n        setComentarios(resposta.data);\r\n      } catch (erro) {\r\n        console.error(erro);\r\n      }\r\n    } catch (erro) {\r\n      console.error(erro);\r\n    }\r\n  }\r\n  async function excluir(comentarioId: number) {\r\n    try {\r\n      const resposta = await api.delete(\r\n        `/comentario/excluir/${comentarioId}/${itemId}`\r\n      );\r\n      setComentarios(resposta.data);\r\n    } catch (erro) {\r\n      console.error(erro);\r\n      alert(\"Erro ao excluir comentário.\");\r\n    }\r\n  }\r\n  function cadastrar() {\r\n    const comentario: Comentario = {\r\n      texto: texto,\r\n      itemId: Number(itemId),\r\n    };\r\n    try {\r\n      api\r\n        .post(\"/comentario/cadastrar\", comentario)\r\n        .then((resposta) => {\r\n          setComentarios(resposta.data);\r\n          setTexto(\"\");\r\n        })\r\n        .catch((erro) => {\r\n          console.error(erro);\r\n          alert(\"Erro ao cadastrar comentário.\");\r\n        });\r\n    } catch (erro) {\r\n      console.error(erro);\r\n      alert(\"Erro ao cadastrar comentário.\");\r\n    }\r\n  }\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Paper elevation={3} sx={{ padding: 4, mt: 8 }}>\r\n        <Typography variant=\"h5\" component=\"h1\" gutterBottom>\r\n          {item?.nome}\r\n        </Typography>\r\n        <TextField\r\n          fullWidth\r\n          margin=\"normal\"\r\n          label=\"Inserir comentário\"\r\n          type=\"text\"\r\n          required\r\n          value={texto}\r\n          onChange={(e) => setTexto(e.target.value)}\r\n        />\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          fullWidth\r\n          sx={{ mb: 2 }}\r\n          onClick={cadastrar}\r\n        >\r\n          Login\r\n        </Button>\r\n        <TableContainer component={Paper}>\r\n          <Table>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Comentário</TableCell>\r\n                <TableCell>Usuário</TableCell>\r\n                <TableCell>Criado Em</TableCell>\r\n                <TableCell>Excluir</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {comentarios.map((comentario) => (\r\n                <TableRow key={comentario.comentarioId}>\r\n                  <TableCell>{comentario.texto}</TableCell>\r\n                  <TableCell>{comentario.usuario?.email}</TableCell>\r\n                  <TableCell>{comentario.data}</TableCell>\r\n                  <TableCell>\r\n                    <Button\r\n                      variant=\"outlined\"\r\n                      onClick={() =>\r\n                        excluir(comentario.comentarioId!)\r\n                      }\r\n                    >\r\n                      Excluir\r\n                    </Button>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n      </Paper>\r\n      <Link variant=\"overline\" sx={{ mt: 2 }} href={`/item/listar/`}>\r\n        Voltar\r\n      </Link>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default ItemDetalhes;"],"names":[],"mappings":"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","debugId":null}}]
}