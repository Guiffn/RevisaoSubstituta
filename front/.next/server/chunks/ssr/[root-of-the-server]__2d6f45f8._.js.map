{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/5480/OneDrive/Desktop/api_avaliacao/front/src/app/Services/api.tsx"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"http://localhost:5003/api\",\r\n});\r\n\r\n//Para toda a requisição com Axios\r\n//seré enviado o token JWT\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\napi.interceptors.response.use(\r\n  (resposta) => resposta,\r\n  (erro) => {\r\n    if (erro.response.status === 401) {\r\n      localStorage.removeItem(\"token\");\r\n      window.location.replace(\"/usuario/login\");\r\n    }\r\n    return Promise.reject(erro);\r\n  }\r\n);\r\n\r\nexport default api;"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;AAEA,kCAAkC;AAClC,0BAA0B;AAC1B,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT;AAEA,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,CAAC;IACC,IAAI,KAAK,QAAQ,CAAC,MAAM,KAAK,KAAK;QAChC,aAAa,UAAU,CAAC;QACxB,OAAO,QAAQ,CAAC,OAAO,CAAC;IAC1B;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa","debugId":null}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/5480/OneDrive/Desktop/api_avaliacao/front/src/app/App/usuario/login/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\n\r\nimport api from \"@/app/Services/api\";\r\nimport { Usuario } from \"@/app/Types/usuario\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  Container,\r\n  Paper,\r\n  TextField,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport React, { useState } from \"react\";\r\n\r\nfunction Login() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [senha, setSenha] = useState(\"\");\r\n  const router = useRouter();\r\n\r\n  async function efetuarLogin(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    const usuario: Usuario = {\r\n      email,\r\n      senha,\r\n    };\r\n    try {\r\n      const resposta = await api.post(\"usuario/login\", usuario);\r\n      localStorage.setItem(\"token\", resposta.data);\r\n      router.push(\"/item/listar\");\r\n    } catch (erro) {\r\n      console.error(erro);\r\n      // alert(\"Login ou senha incorretos!\");\r\n    }\r\n  }\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Paper elevation={3} sx={{ padding: 4, mt: 8 }}>\r\n        <Typography variant=\"h5\" component=\"h1\" gutterBottom>\r\n          Login\r\n        </Typography>\r\n        <Box component=\"form\" onSubmit={efetuarLogin}>\r\n          <TextField\r\n            fullWidth\r\n            margin=\"normal\"\r\n            label=\"E-mail\"\r\n            type=\"text\"\r\n            required\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n\r\n          <TextField\r\n            fullWidth\r\n            margin=\"normal\"\r\n            label=\"Senha\"\r\n            type=\"text\"\r\n            required\r\n            value={senha}\r\n            onChange={(e) => setSenha(e.target.value)}\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            fullWidth\r\n            sx={{ mt: 2 }}\r\n          >\r\n            Login\r\n          </Button>\r\n        </Box>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Login;"],"names":[],"mappings":";;;;AAGA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AAdA;;;;;;AAgBA,SAAS;IACP,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,eAAe,aAAa,CAAkB;QAC5C,EAAE,cAAc;QAChB,MAAM,UAAmB;YACvB;YACA;QACF;QACA,IAAI;YACF,MAAM,WAAW,MAAM,8HAAA,CAAA,UAAG,CAAC,IAAI,CAAC,iBAAiB;YACjD,aAAa,OAAO,CAAC,SAAS,SAAS,IAAI;YAC3C,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,MAAM;YACb,QAAQ,KAAK,CAAC;QACd,uCAAuC;QACzC;IACF;IACA,qBACE,8OAAC,0MAAA,CAAA,YAAS;QAAC,UAAS;kBAClB,cAAA,8OAAC,8LAAA,CAAA,QAAK;YAAC,WAAW;YAAG,IAAI;gBAAE,SAAS;gBAAG,IAAI;YAAE;;8BAC3C,8OAAC,6MAAA,CAAA,aAAU;oBAAC,SAAQ;oBAAK,WAAU;oBAAK,YAAY;8BAAC;;;;;;8BAGrD,8OAAC,wLAAA,CAAA,MAAG;oBAAC,WAAU;oBAAO,UAAU;;sCAC9B,8OAAC,0MAAA,CAAA,YAAS;4BACR,SAAS;4BACT,QAAO;4BACP,OAAM;4BACN,MAAK;4BACL,QAAQ;4BACR,OAAO;4BACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;sCAG1C,8OAAC,0MAAA,CAAA,YAAS;4BACR,SAAS;4BACT,QAAO;4BACP,OAAM;4BACN,MAAK;4BACL,QAAQ;4BACR,OAAO;4BACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;sCAE1C,8OAAC,iMAAA,CAAA,SAAM;4BACL,MAAK;4BACL,SAAQ;4BACR,OAAM;4BACN,SAAS;4BACT,IAAI;gCAAE,IAAI;4BAAE;sCACb;;;;;;;;;;;;;;;;;;;;;;;AAOX;uCAEe","debugId":null}}]
}